<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
    <title>Insert title here</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
</head>
<body>
   <div >
      <div>
        <form id="selectForm">
        <table>
            <tr>
              <td>作品名称</td><td><input type="text" name="titlename" /></td>
              <td>参赛者</td><td><input type="text" name="name" /></td>
              <td>学院</td><td><input type="text"  name="academy" /></td>
              <td>学号</td><td><input type="text"  name="num" /></td>
              <td><input  type="button"  onclick="selectall();"  value="查询" /></td>
            </tr>
        </table>
        </form>
      </div>
      <table  id="listtable"  border=2  width="100%" >
          <!-- <tr>
             <th>姓名</th>
             <th>作品名称</th>
             <th>性别</th>
             <th>邮箱</th>
             <th>学号</th>          
             <th>学院</th>        
             <th>班级</th>
             <th>手机</th>
             <th>qq</th>
             <th>微信</th>
             <th>操作</th>
           </tr> -->
           <!-- <tr th:each="contestant : ${conlist}">
             <td th:text="${contestant.name}"></td>
           
             <td th:text="${contestant.sex}"></td>
             <td th:text="${contestant.email}"></td>
             <td th:text="${contestant.num}"></td>
             <td th:text="${contestant.academy}"></td>
             <td th:text="${contestant.classname}"></td>
             <td th:text="${contestant.phone}"></td>
             <td th:text="${contestant.qq}"></td>
             <td th:text="${contestant.wechat}"></td>
             <td >
                <input type="button"   th:onclick="'updatecon(\''+${contestant.id}+'\')' "  value="修改"/>
                <input type="button" th:onclick="'delcon(\''+${contestant.id}+'\')' "  value="删除"/>
             </td>
           </tr> -->
          <!--  <tr>
             <td><a  href="contestant">添加</a></td>
           </tr> -->
      </table>
   </div>
   <!--修改弹框-->
<div class="modal fade" id="addcon" tabindex="-1" role="dialog" aria-labelledby="addroleLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addroleLabel">修改信息</h4>
            </div>
            <div class="modal-body">
                <form id="contForm">
                    <input type="hidden" id="id" class="id" name="id">
                    <div class="form-group">
                        <label class="control-label">姓名:</label>
                        <input type="text" class="form-control" name="name" id="name" placeholder="请输入姓名"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">性别:</label>
                        <input type="text" class="form-control" name="sex" id="sex" placeholder="请输入性别"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">邮箱:</label>
                        <input type="text" class="form-control" name="email" id="email" placeholder="请输入邮箱"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">学号:</label>
                        <input type="text" class="form-control" name="num" id="num" placeholder="请输入学号"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">学院:</label>
                        <input type="text" class="form-control" name="academy" id="academy" placeholder="请输入学院"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">班级:</label>
                        <input type="text" class="form-control" name="classname" id="classname" placeholder="请输入班级"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">手机:</label>
                        <input type="text" class="form-control" name="phone" id="phone" placeholder="请输入手机"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">qq:</label>
                        <input type="text" class="form-control" name="qq" id="qq" placeholder="请输入qq"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">wechat:</label>
                        <input type="text" class="form-control" name="wechat" id="wechat" placeholder="请输入微信"/>
                    </div>
                </form>
            </div>
   
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" onclick="addcon();" class="btn btn-primary">保存</button>
            </div>
        </div>
    </div>
</div>

 <!--查看cye作品弹框-->
<div class="modal fade" id="addtcye" tabindex="-1" role="dialog" aria-labelledby="addroleLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addroleLabel">作品信息</h4>
            </div>
            <div class="modal-body">
                <form id="tcyeForm">
                    <input type="hidden" id="cyeid" class="cyeid" name="id">
                    <div class="form-group">
                        <label class="control-label">作品名称:</label>
                        <input type="text" class="form-control" name="title" id="title" placeholder="请输入作品名称"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">指导老师:</label>
                        <input type="text" class="form-control" name="teacher" id="teacher" placeholder="请输入指导老师姓名"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">老师电话:</label>
                        <input type="text" class="form-control" name="tphone" id="tphone" placeholder="请输入指导老师电话"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">js:</label>
                        <input type="text" class="form-control" name="js" id="js" placeholder="请输入js"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">cx:</label>
                        <input type="text" class="form-control" name="cx" id="cx" placeholder="请输入cx"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">kx:</label>
                        <input type="text" class="form-control" name="kx" id="kx" placeholder="请输入kx"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">ys:</label>
                        <input type="text" class="form-control" name="ys" id="ys" placeholder="请输入ys"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">附件:</label>
                        <input type="text" class="form-control" name="fuji" id="fuji" placeholder="请输入fuji"/>
                    </div>
                   
                </form>
            </div>
   
            <div class="modal-footer">
                <button type="button"  class="btn btn-primary" data-dismiss="modal">关闭</button>
              <!--   <button type="button" onclick="addtcye();" class="btn btn-primary">保存</button> -->
            </div>
        </div>
    </div>
</div>
   <!--修改作品弹框-->
<div class="modal fade" id="addtcyi" tabindex="-1" role="dialog" aria-labelledby="addroleLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addroleLabel">作品信息</h4>
            </div>
            <div class="modal-body">
                <form id="tcyiForm">
                    <input type="hidden" id="cyiid" class="cyiid" name="id">
                    <div class="form-group">
                        <label class="control-label">作品名称:</label>
                        <input type="text" class="form-control" name="title2" id="title2" placeholder="请输入作品名称"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">指导老师:</label>
                        <input type="text" class="form-control" name="teacher2" id="teacher2" placeholder="请输入指导老师姓名"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">老师电话:</label>
                        <input type="text" class="form-control" name="tphone2" id="tphone2" placeholder="请输入指导老师电话"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">cybj:</label>
                        <input type="text" class="form-control" name="cybj2" id="cybj2" placeholder="请输入cybj"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">sjwt:</label>
                        <input type="text" class="form-control" name="sjwt2" id="sjwt2" placeholder="请输入sjwt"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">kxls:</label>
                        <input type="text" class="form-control" name="kxls2" id="kxls2" placeholder="请输入kxls"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">附件:</label>
                        <input type="text" class="form-control" name="fuji2" id="fuji2" placeholder="请输入fuji"/>
                    </div>
                   
                </form>
            </div>
   
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
               <!--  <button type="button" onclick="addtcyi();" class="btn btn-primary">保存</button> -->
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="addtone" tabindex="-1" role="dialog" aria-labelledby="addroleLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addroleLabel">作品信息</h4>
            </div>
            <div class="modal-body">
                <form id="toneForm">
                    <input type="hidden" id="oneid" class="oneid" name="id">
                    <div class="form-group">
                        <label class="control-label">作品名称:</label>
                        <input type="text" class="form-control" name="title3" id="title3" placeholder="请输入作品名称"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">指导老师:</label>
                        <input type="text" class="form-control" name="teacher3" id="teacher3" placeholder="请输入指导老师姓名"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">老师电话:</label>
                        <input type="text" class="form-control" name="tphone3" id="tphone3" placeholder="请输入指导老师电话"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">one:</label>
                        <input type="text" class="form-control" name="one3" id="one3" placeholder="请输入one"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">two:</label>
                        <input type="text" class="form-control" name="two3" id="two3" placeholder="请输入two"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">three:</label>
                        <input type="text" class="form-control" name="three3" id="three3" placeholder="请输入three"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">four:</label>
                        <input type="text" class="form-control" name="four3" id="four3" placeholder="请输入four"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">five:</label>
                        <input type="text" class="form-control" name="five3" id="five3" placeholder="请输入five"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">six:</label>
                        <input type="text" class="form-control" name="six3" id="six3" placeholder="请输入six"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">serven:</label>
                        <input type="text" class="form-control" name="serven3" id="serven3" placeholder="请输入kx"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">附件:</label>
                        <input type="text" class="form-control" name="fuji3" id="fuji3" placeholder="请输入fuji"/>
                    </div>
                   
                </form>
            </div>
   
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
               <!--  <button type="button" onclick="addtone();" class="btn btn-primary">保存</button> -->
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="addttwo" tabindex="-1" role="dialog" aria-labelledby="addroleLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addroleLabel">作品信息</h4>
            </div>
            <div class="modal-body">
                <form id="ttwoForm">
                    <input type="hidden" id="twoid" class="twoid" name="id">
                    <div class="form-group">
                        <label class="control-label">作品名称:</label>
                        <input type="text" class="form-control" name="title4" id="title4" placeholder="请输入作品名称"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">指导老师:</label>
                        <input type="text" class="form-control" name="teacher4" id="teacher4" placeholder="请输入指导老师姓名"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">老师电话:</label>
                        <input type="text" class="form-control" name="tphone4" id="tphone4" placeholder="请输入指导老师电话"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">one:</label>
                        <input type="text" class="form-control" name="one4" id="one4" placeholder="请输入one"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">two:</label>
                        <input type="text" class="form-control" name="two4" id="two4" placeholder="请输入two"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">three:</label>
                        <input type="text" class="form-control" name="three4" id="three4" placeholder="请输入three"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">four:</label>
                        <input type="text" class="form-control" name="four4" id="four4" placeholder="请输入four"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">five:</label>
                        <input type="text" class="form-control" name="five4" id="five4" placeholder="请输入five"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">checkbox:</label>
                        <input type="text" class="form-control" name="checkbox4" id="checkbox4" placeholder="请输入checkbox"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">six:</label>
                        <input type="text" class="form-control" name="six4" id="six4" placeholder="请输入six"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">附件:</label>
                        <input type="text" class="form-control" name="fuji4" id="fuji4" placeholder="请输入fuji"/>
                    </div>
                   
                </form>
            </div>
   
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
             <!--    <button type="button" onclick="addttwo();" class="btn btn-primary">保存</button> -->
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="addtthree" tabindex="-1" role="dialog" aria-labelledby="addroleLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="addroleLabel">作品信息</h4>
            </div>
            <div class="modal-body">
                <form id="tthreeForm">
                    <input type="hidden" id="threeid" class="threeid" name="id">
                    <div class="form-group">
                        <label class="control-label">作品名称:</label>
                        <input type="text" class="form-control" name="title5" id="title5" placeholder="请输入作品名称"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">指导老师:</label>
                        <input type="text" class="form-control" name="teacher5" id="teacher5" placeholder="请输入指导老师姓名"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">老师电话:</label>
                        <input type="text" class="form-control" name="tphone5" id="tphone5" placeholder="请输入指导老师电话"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">one:</label>
                        <input type="text" class="form-control" name="one5" id="one5" placeholder="请输入one"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">two:</label>
                        <input type="text" class="form-control" name="two5" id="two5" placeholder="请输入two"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">three:</label>
                        <input type="text" class="form-control" name="three5" id="three5" placeholder="请输入three"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">four:</label>
                        <input type="text" class="form-control" name="four5" id="four5" placeholder="请输入four"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">five:</label>
                        <input type="text" class="form-control" name="five5" id="five5" placeholder="请输入five"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">checkbox:</label>
                        <input type="text" class="form-control" name="checkbox5" id="checkbox5" placeholder="请输入checkbox"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">six:</label>
                        <input type="text" class="form-control" name="six5" id="six5" placeholder="请输入six"/>
                    </div>
                    <div class="form-group">
                        <label class="control-label">附件:</label>
                        <input type="text" class="form-control" name="fuji5" id="fuji5" placeholder="请输入fuji"/>
                    </div>
                   
                </form>
            </div>
   
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
            <!--     <button type="button" onclick="addtthree();" class="btn btn-primary">保存</button> -->
            </div>
        </div>
    </div>
</div>
   <!--end-Footer-part-->
	<script type="text/javascript" th:src="@{/js/jquery-1.11.2.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/js/layer.js}"></script>
	<script type="text/javascript" th:src="@{/js/jquery.ztree.core.js}"></script>
	<script type="text/javascript" th:src="@{/js/jquery.ztree.excheck.js}"></script>
   <script>
   //条件查询
   
   function selectall(){
	   ////cye
	   
	   $.ajax({
		   async:false,
           type: "post",
           url:'/cont/threebycondition',
           data:$('#selectForm').serialize(),// 你的formid
           success: function(data) {

            	   var listtable = document.getElementById("listtable");
            	   var text = '<tr>'
                       +'<th>姓名</th>'
                       +'<th>作品名称</th>'
                       +'<th>性别</th>'
                       +'<th>邮箱</th>'
                       +'<th>学号</th>'          
                       +'<th>学院</th>'        
                       +'<th>班级</th>'
                       +'<th>手机</th>'
                       +'<th>qq</th>'
                       +'<th>微信</th>'
                       +'<th>操作</th>'
                       +'</tr>';
                if(data.length>=0){
                   for(var k=0;k<data.length;k++){
	                	  text+= '<tr>'
	                   +'  <td>'+data[k].name+'</td>'
	                   +'  <td>'+data[k].titlename+'</td>'
	                   +'  <td>'+data[k].sex+'</td>'
	                   +'  <td>'+data[k].email+'</td>'
	                   +'  <td>'+data[k].num+'</td>'
	                   +'  <td>'+data[k].academy+'</td>'
	                   +'  <td>'+data[k].classname+'</td>'
	                   +'  <td>'+data[k].phone+'</td>'
	                   +'  <td>'+data[k].qq+'</td>'
	                   +'  <td>'+data[k].wechat+'</td>'
	                   +'  <td  align="center">'
	                   +'     <input type="button"   onclick=updatetthree("'+data[k].id+'");  value="查看详细作品"/>'
	                
	                   +'  </td>'
	                   +' </tr>   ';
                    
                   }
                 /*   text+='<tr>'
                       +'<td><a  href="contestant">添加</a></td>'
                       +'</tr>'; */
                   //alert(data[0].title);
                   listtable.innerHTML=text;
                   layer.msg('查询成功');
              
                }else{
                   layer.msg('查询失败');

               }
           }
       });
   }
	   
   //去更新页面
   function updatetcye(id){
	    $.ajax({
            async:false,
            type : "get",
            data:{id:id},
            url: "/tcye/getonetcye",
            dataType:'json',
            success: function(data){
                $("#cyeid").val(data.id);
                $("#title").val(data.title);
                $("#teacher").val(data.teacher);
                $("#tphone").val(data.tphone);
                $("#js").val(data.js);
                $("#cx").val(data.cx);
                $("#kx").val(data.kx);
                $("#ys").val(data.ys);
                $("#fuji").val(data.fuji);
            	$('#addtcye').modal();
            }
        });
   }
   function updatetcyi(id){
	    $.ajax({
           async:false,
           type : "get",
           data:{id:id},
           url: "/tcyi/getonetcyi",
           dataType:'json',
           success: function(data){
               $("#cyiid2").val(data.id);
               $("#title2").val(data.title);
               $("#teacher2").val(data.teacher);
               $("#tphone2").val(data.tphone);
               $("#cybj2").val(data.cybj);
               $("#sjwt2").val(data.sjwt);
               $("#kxls2").val(data.kxls);
               $("#fuji2").val(data.fuji);
           	$('#addtcyi').modal();
           }
       });
  }
   //去更新页面
   function updatetone(id){
	    $.ajax({
            async:false,
            type : "get",
            data:{id:id},
            url: "/tone/getonetone",
            dataType:'json',
            success: function(data){
                $("#oneid3").val(data.id);
                $("#title3").val(data.title);
                $("#teacher3").val(data.teacher);
                $("#tphone3").val(data.tphone);
                $("#one3").val(data.one);
                $("#two3").val(data.two);
                $("#three3").val(data.three);
                $("#four3").val(data.four);
                $("#five3").val(data.five);
                $("#six3").val(data.six);
                $("#serven3").val(data.serven);
                $("#fuji3").val(data.fuji);
            	$('#addtone').modal();
            }
        });
   }
   function updatettwo(id){
	    $.ajax({
           async:false,
           type : "get",
           data:{id:id},
           url: "/ttwo/getonettwo",
           dataType:'json',
           success: function(data){
               $("#twoid4").val(data.id);
               $("#title4").val(data.title);
               $("#teacher4").val(data.teacher);
               $("#tphone4").val(data.tphone);
               $("#one4").val(data.one);
               $("#two4").val(data.two);
               $("#three4").val(data.three);
               $("#four4").val(data.four);
               $("#five4").val(data.five);
               $("#six4").val(data.six);
               $("#checkbox4").val(data.checkbox);
               $("#fuji4").val(data.fuji);
           	$('#addttwo').modal();
           }
       });
  }
   function updatetthree(id){
	    $.ajax({
           async:false,
           type : "get",
           data:{id:id},
           url: "/tthree/getonetthree",
           dataType:'json',
           success: function(data){
               $("#threeid5").val(data.id);
               $("#title5").val(data.title);
               $("#teacher5").val(data.teacher);
               $("#tphone5").val(data.tphone);
               $("#one5").val(data.one);
               $("#two5").val(data.two);
               $("#three5").val(data.three);
               $("#four5").val(data.four);
               $("#five5").val(data.five);
               $("#six5").val(data.six);
               $("#checkbox5").val(data.checkbox);
               $("#fuji5").val(data.fuji);
           	$('#addtthree').modal();
           }
       });
  }
	   ///////////////////////////////
       //更新信息
       function addcon(){
    	   $.ajax({
    		   async:false,
               type: "post",
               url:'/cont/updatecon',
               data:$('#contForm').serialize(),// 你的formid
               success: function(data) {
                   if(data=="Ok"){
                       layer.msg('修改成功');
                       window.location.reload();
                       $('#addcon').modal('hide');
                   }else{
                       layer.msg('修改失败');
                       $('#addcon').modal('hide');
                   }
               }
           });
       }
    
       //去更新页面
       function updatecon(id){
    	    $.ajax({
                async:false,
                type : "get",
                data:{id:id},
                url: "/cont/getonecon",
                dataType:'json',
                success: function(data){
                    $("#id").val(data.id);
                    $("#name").val(data.name);
                    $("#sex").val(data.sex);
                    $("#email").val(data.email);
                    $("#num").val(data.num);
                    $("#academy").val(data.academy);
                    $("#classname").val(data.classname);
                    $("#phone").val(data.phone);
                    $("#qq").val(data.qq);
                    $("#wechat").val(data.wechat);
                	$('#addcon').modal();
                }
            });
       }
       //删除
       function delcon(id){
    	   layer.confirm('您确定要删除信息吗？', {
               btn: ['确认','取消'] //按钮
           }, function(){
               $.ajax({
                   cache: true,
                   type: "POST",
                   url:'/cont/del',
                   data:{id:id},
                   async: false,
                   success: function(data) {
                       if(data=="Ok"){
                           layer.msg('删除成功');
                           window.location.reload();
                       }else{
                           layer.msg('删除失败');
                       }
                   }
               });
           });
       }
   </script>
</body>
</html>